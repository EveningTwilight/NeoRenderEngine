# 工作流规范 (Workflow)

## 1. 代码提交规范

### 1.1 提交信息 (Commit Message)
所有提交信息必须遵循以下格式：
`[Copilot] <type>: <description>`

- **type**:
  - `feat`: 新功能
  - `fix`: 修复 Bug
  - `docs`: 文档修改
  - `style`: 代码格式修改（不影响代码运行的变动）
  - `refactor`: 代码重构（即不是新增功能，也不是修改 bug 的代码变动）
  - `test`: 增加测试
  - `chore`: 构建过程或辅助工具的变动

- **description**: 简短描述本次提交的内容（建议使用中文）。

示例：
`[Copilot] feat: 添加矩阵乘法实现`
`[Copilot] fix: 修复 Metal 缓冲区内存泄漏`

### 1.2 分支管理
- **main**: 主分支，保持稳定，随时可发布。
- **develop**: 开发分支，包含最新已合并的功能。
- **feature/<name>**: 功能分支，用于开发新功能。

### 1.3 Git LFS 管理
本项目包含二进制资源（图片、模型、视频等），必须使用 Git LFS 进行管理。
- 在提交新的资源文件前，请确保其扩展名已在 `.gitattributes` 中配置。
- 常用 LFS 文件类型：`png`, `jpg`, `mp4`, `obj`, `lib`, `a` 等。

## 2. 代码质量规范

### 2.1 单元测试
- 核心功能模块（尤其是 `RenderMath` 和 `RenderCore`）提交前必须包含单元测试。
- **代码覆盖率要求**: 不低于 **85%**。

### 2.2 代码风格
- **注释**: 使用中文，保持简洁明了。避免冗余的文档注释，除非是公开 API 的必要说明。
- **命名**: 遵循 Swift API Design Guidelines。
- **清理**: 提交前删除无用的代码、注释掉的代码块和调试日志。

## 3. 文档维护
- **FEATURES.md**: 每当完成一个新特性或规划新特性时，更新此文档。
- **TODOLIST.md**: 任务完成时及时勾选，并拆解新的子任务。
